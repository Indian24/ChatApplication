@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="~/css/site.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Chat</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/5.0.13/signalr.min.js">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/6.0.0/signalr.min.js"></script>
    <script src="~/js/chat.js"></script>
</head>
<body>
    <!--start chat-->
    <section class="chat-section">
        <div class="chat-container">
            <!--start sidebar-->
            <aside class="chat-sidebar">
                <a href="#" class="chat-sidebar-logo">
                    <i class="ri-chat-1-fill"></i>
                </a>
                <ul class="chat-sidebar-menu">
                    <li class="active"><a href="#" data-title="Chats"><i class="ri-chat-3-line"></i></a></li>
                    <li><a href="#" data-title="Contacts"><i class="ri-contacts-line"></i></a></li>
                    <li><a href="#" data-title="Documents"><i class="ri-folder-line"></i></a></li>
                    <li><a href="#" data-title="Settings"><i class="ri-message-3-line"></i></a></li>
                    <li class="chat-sidebar-profile">
                        <button type="button" class="chat-sidebar-profile-toggle">
                            <img src="https://cdn-icons-png.flaticon.com/512/5231/5231020.png" alt="">
                        </button>
                        <ul id="chat-sidebar-profile-dropdown" class="profile-dropdown hidden">
                            <li><a href="#"><i class="ri-user-line"></i>Profile</a></li>
                            <li><a href="#"><i class="ri-logout-box-line"></i>Logout</a></li>
                        </ul>
                    </li>
                </ul>
            </aside>
            <!--end sidebar-->
            <!--start:Content side-->
            <div class="chat-content">
                <!--start content slide-->
                <div class="content-sidebar">
                    <div class="content-sidebar-title">Chats</div>
                    <form action="" class="content-sidebar-form">
                        <input type="search" class="content-sidebar-input" placeholder="Search.....">
                        <button type="submit" class="content-sidebar-submit"><i class="ri-search-line"></i></button>
                    </form>
                    <div class="content-messages">
                        <ul class="content-messages-list">
                            <li class="content-message-title"><span>Recently</span></li>
                            <li class="active">
                                <a href="#" data-conversation="#conversation-1">
                                    <img class="content-message-image" src="https://cdn-icons-png.flaticon.com/512/5231/5231020.png" alt="">
                                    <span class="content-message-info">
                                        <span class="content-message-name">User1</span>
                                        <span class="content-message-text">Hello,How are you</span>
                                    </span>
                                    <span class="content-message-more">
                                        <span class="content-message-unread">5</span>
                                        <span class="content-message-time">12:30</span>
                                    </span>
                                </a>
                            </li>
                            <li class="active">
                                <a href="#" data-conversation="#conversation-2">
                                    <img class="content-message-image" src="https://cdn-icons-png.flaticon.com/512/5231/5231020.png" alt="">
                                    <span class="content-message-info">
                                        <span class="content-message-name">User2</span>
                                        <span class="content-message-text">How are you</span>
                                    </span>
                                    <span class="content-message-more">
                                        <span class="content-message-time">12:30</span>
                                    </span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <!--end content slide-->
            </div>
            <!--end:Content side-->
            <!--start conversation-->
            <div class="conversation" id="conversation-1" style="display:block;">
                <div class="conversation-top">
                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>
                    <div class="conversation-user">
                        <img class="conversation-user-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">
                        <div>
                            <div class="conversation-user-name">User1</div>
                            <div class="conversation-user-status online">online</div>
                        </div>
                    </div>
                    <div class="conversation-buttons">
                        <button type="button"><i class="ri-phone-fill"></i></button>
                        <button type="button"><i class="ri-vidicon-line"></i></button>
                        <button type="button"><i class="ri-information-line"></i></button>
                    </div>
                </div>
                <!-- ✅ Message Display Area -->
                <div class="message-list"></div>
                <div class="conversation-form">
                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>
                    <div class="conversation-form-group">
                        <textarea class="conversation-form-input" rows="1" placeholder="Type here..."></textarea>
                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>
                    </div>
                    <button type="button" class="conversation-form-button conversation-form-submit"><i class="ri-send-plane-2-line"></i></button>
                </div>
            </div>
            <div class="conversation" id="conversation-2">
                <div class="conversation-top-1">
                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>
                    <div class="conversation-user">
                        <img class="conversation-user-image" src="https://marketplace.canva.com/EAFEits4-uw/1/0/1600w/canva-boy-cartoon-gamer-animated-twitch-profile-photo-oEqs2yqaL8s.jpg" alt="">
                        <div>
                            <div class="conversation-user-name">User2</div>
                            <div class="conversation-user-status online">online</div>
                        </div>
                    </div>
                    <div class="conversation-buttons">
                        <button type="button"><i class="ri-phone-fill"></i></button>
                        <button type="button"><i class="ri-vidicon-line"></i></button>
                        <button type="button"><i class="ri-information-line"></i></button>
                    </div>
                </div>
                <!-- ✅ Message Display Area -->
                <div class="message-list"></div>
                <div class="conversation-form">
                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>
                    <div class="conversation-form-group">
                        <textarea class="conversation-form-input" rows="1" placeholder="Type here..."></textarea>
                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>
                    </div>
                    <button type="button" class="conversation-form-button conversation-form-submit"><i class="ri-send-plane-2-line"></i></button>
                </div>
            </div>
        </div>
    </section>
    <!--end chat-->
    <script>
                //start::sidebar
        document.querySelector('.chat-sidebar-profile-toggle').addEventListener('click',function() {
            e.preventdefault()
            this.parentElement.classList.add('active')
        })
        document.addEventListener('click',function(e) {
            if(!e.target.matches('.chat-sidebar-profile, .chat-sidebar-profile *')) {
                console.log('OK')
                document.querySelector('.chat-sidebar-profile').classList.remove('active')
            }
        })
        document.querySelectorAll('[data-conversation]').forEach(function(item) {
            item.addEventListener('click', function(e) {
                e.preventDefault();

                // Debug
                console.log('Switching to:', this.dataset.conversation);

                // Hide all conversation divs
                document.querySelectorAll('.conversation').forEach(function(conv) {
                    conv.style.display = 'none';
                });

                // Show the selected conversation
                const targetSelector = this.dataset.conversation;
                const targetConv = document.querySelector(targetSelector);

                if (targetConv) {
                    targetConv.style.display = 'block';
                }
            });
        });


        //end::sidebar
    </script>
</body>
</html>